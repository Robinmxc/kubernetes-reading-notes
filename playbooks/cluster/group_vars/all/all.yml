# ---------基础参数--------------------

# 集群网络插件
CLUSTER_NETWORK: "flannel"

# 服务网段 (Service CIDR），注意不要与内网已有网段冲突
#SERVICE_CIDR: "10.68.0.0/16"

# POD 网段 (Cluster CIDR），注意不要与内网已有网段冲突
CLUSTER_CIDR: "196.200.192.0/20"

# 服务端口范围 (NodePort Range)
NODE_PORT_RANGE: "1-65535"

# kubernetes 服务 IP (预分配，一般是 SERVICE_CIDR 中第一个IP)
#CLUSTER_KUBERNETES_SVC_IP: "10.68.0.1"

# 集群 DNS 服务 IP (从 SERVICE_CIDR 中预分配)
#CLUSTER_DNS_SVC_IP: "10.68.0.2"

# 集群 DNS 域名
CLUSTER_DNS_DOMAIN: "cluster.local."

#默认二进制文件目录
bin_dir: "/opt/kube/bin"

#证书目录
ca_dir: "/etc/kubernetes/ssl"

ingress_ca_dir: "/etc/kad/ssl"

PRIVATE_REGISTRY_ENABLED: "no"
PRIVATE_INSECURE_REGISTRY: "172.17.8.20:8082"
PRIVATE_REGISTRY_USER: ""
PRIVATE_REGISTRY_PWD: ""

max_space_dir: "{{
    hostvars[groups['kube_node'][0]].ansible_mounts
    | selectattr('mount', 'match', '^(?!/var/lib/).*')
    | sort(attribute='size_available')
    | map(attribute='mount')
    | list
    | last }}"

DATA_DIR: "{% if '/' == max_space_dir %}{% else %}{{ max_space_dir }}{% endif %}"

DOCKER_STORAGE_DIR: "{{ DATA_DIR }}/docker"

node_monitor_grace_period: 40s

